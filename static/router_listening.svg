<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="611px" preserveAspectRatio="none" style="width:654px;height:611px;" version="1.1" viewBox="0 0 654 611" width="654px" zoomAndPan="magnify"><defs><filter height="300%" id="fdv6cqzn93zg0" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="141" x="255.5" y="26.708">Router listening</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="47.9375" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="105" x="286" y="30.9531"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="35" x="296" y="52.0918">fn init</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="85" x="296" y="66.0605">Router::new()</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="126" x="275.5" y="98.8906"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="106" x="285.5" y="120.0293">Msg::UrlChanged</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="81" x="298" y="152.8594"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="61" x="308" y="173.998">fn update</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="61.9063" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="163" x="257" y="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="143" x="267" y="227.9668">confirm_navigation(url)</text><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="0" x="271" y="241.9355"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="119" x="267" y="255.9043">match router.move</text><rect fill="#000000" filter="url(#fdv6cqzn93zg0)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="633" x="10" y="288.7344"/><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="141.5" y="314.7344"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="151.5" y="335.873">navigate to next</text><polygon fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" points="184.5,368.7031,220.5,368.7031,232.5,380.7031,220.5,392.7031,184.5,392.7031,172.5,380.7031,184.5,368.7031" style="stroke: #A80036; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="36" x="184.5" y="384.5112">route?</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="27" x="145.5" y="378.1089">exist</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacingAndGlyphs" textLength="54" x="232.5" y="378.1089">not found</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="158" x="22" y="402.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="138" x="32" y="423.8418">current_route = route</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="208" x="200" y="402.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="188" x="210" y="423.8418">current_route = default_route</text><polygon fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" points="202.5,442.6719,214.5,454.6719,202.5,466.6719,190.5,454.6719,202.5,442.6719" style="stroke: #A80036; stroke-width: 1.5;"/><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="111" x="147" y="486.6719"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="91" x="157" y="507.8105">update history</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="87" x="430" y="400.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="67" x="440" y="421.8418">move back</text><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="527" y="400.7031"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="84" x="537" y="421.8418">move forward</text><rect fill="#000000" filter="url(#fdv6cqzn93zg0)" height="6" rx="2.5" ry="2.5" style="stroke: #000000; stroke-width: 1.0;" width="633" x="10" y="540.6406"/><rect fill="#FEFECE" filter="url(#fdv6cqzn93zg0)" height="33.9688" rx="12.5" ry="12.5" style="stroke: #A80036; stroke-width: 1.5;" width="122" x="277.5" y="566.6406"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacingAndGlyphs" textLength="102" x="287.5" y="587.7793">router : is_ready</text><line style="stroke: #A80036; stroke-width: 1.5;" x1="338.5" x2="338.5" y1="78.8906" y2="98.8906"/><polygon fill="#A80036" points="334.5,88.8906,338.5,98.8906,342.5,88.8906,338.5,92.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="338.5" x2="338.5" y1="132.8594" y2="152.8594"/><polygon fill="#A80036" points="334.5,142.8594,338.5,152.8594,342.5,142.8594,338.5,146.8594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="338.5" x2="338.5" y1="186.8281" y2="206.8281"/><polygon fill="#A80036" points="334.5,196.8281,338.5,206.8281,342.5,196.8281,338.5,200.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="172.5" x2="101" y1="380.7031" y2="380.7031"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101" x2="101" y1="380.7031" y2="402.7031"/><polygon fill="#A80036" points="97,392.7031,101,402.7031,105,392.7031,101,396.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="232.5" x2="304" y1="380.7031" y2="380.7031"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="304" x2="304" y1="380.7031" y2="402.7031"/><polygon fill="#A80036" points="300,392.7031,304,402.7031,308,392.7031,304,396.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101" x2="101" y1="436.6719" y2="454.6719"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="101" x2="190.5" y1="454.6719" y2="454.6719"/><polygon fill="#A80036" points="180.5,450.6719,190.5,454.6719,180.5,458.6719,184.5,454.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="304" x2="304" y1="436.6719" y2="454.6719"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="304" x2="214.5" y1="454.6719" y2="454.6719"/><polygon fill="#A80036" points="224.5,450.6719,214.5,454.6719,224.5,458.6719,220.5,454.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="202.5" x2="202.5" y1="348.7031" y2="368.7031"/><polygon fill="#A80036" points="198.5,358.7031,202.5,368.7031,206.5,358.7031,202.5,362.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="202.5" x2="202.5" y1="466.6719" y2="486.6719"/><polygon fill="#A80036" points="198.5,476.6719,202.5,486.6719,206.5,476.6719,202.5,480.6719" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="202.5" x2="202.5" y1="294.7344" y2="314.7344"/><polygon fill="#A80036" points="198.5,304.7344,202.5,314.7344,206.5,304.7344,202.5,308.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="473.5" x2="473.5" y1="294.7344" y2="400.7031"/><polygon fill="#A80036" points="469.5,390.7031,473.5,400.7031,477.5,390.7031,473.5,394.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="579" y1="294.7344" y2="400.7031"/><polygon fill="#A80036" points="575,390.7031,579,400.7031,583,390.7031,579,394.7031" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="202.5" x2="202.5" y1="520.6406" y2="540.6406"/><polygon fill="#A80036" points="198.5,530.6406,202.5,540.6406,206.5,530.6406,202.5,534.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="473.5" x2="473.5" y1="434.6719" y2="540.6406"/><polygon fill="#A80036" points="469.5,530.6406,473.5,540.6406,477.5,530.6406,473.5,534.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="579" x2="579" y1="434.6719" y2="540.6406"/><polygon fill="#A80036" points="575,530.6406,579,540.6406,583,530.6406,579,534.6406" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="338.5" x2="338.5" y1="268.7344" y2="288.7344"/><polygon fill="#A80036" points="334.5,278.7344,338.5,288.7344,342.5,278.7344,338.5,282.7344" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.5;" x1="338.5" x2="338.5" y1="546.6406" y2="566.6406"/><polygon fill="#A80036" points="334.5,556.6406,338.5,566.6406,342.5,556.6406,338.5,560.6406" style="stroke: #A80036; stroke-width: 1.0;"/><!--MD5=[36bd738d986ec66f9db86b818e75e7d2]
@startuml
title Router listening

:fn init
Router::new();

:Msg::UrlChanged;

:fn update;

:confirm_navigation(url)

match router.move;


fork
 :navigate to next;
    if (route?) then (exist)
        :current_route = route;
    else (not found)
        :current_route = default_route;
    endif
    :update history;
fork again
 :move back;
fork again
 :move forward;
end fork
:router : is_ready;
@enduml

PlantUML version 1.2019.12(Sun Nov 03 10:24:54 UTC 2019)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_232-heroku-b09
Operating System: Linux
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>